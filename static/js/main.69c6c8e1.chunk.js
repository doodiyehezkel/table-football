(this["webpackJsonptable-football"]=this["webpackJsonptable-football"]||[]).push([[0],{12:function(e,t,a){e.exports={player_card:"Player_player_card__SlMrm",container:"Player_container__30pzO",player_card_img:"Player_player_card_img__1W3ZD",player_name:"Player_player_name__3xYHh",player_button:"Player_player_button__1KNuw",player_button_disable:"Player_player_button_disable__2K5vB"}},19:function(e,t,a){e.exports={game_score_container:"GameScoreManagement_game_score_container__27OKU",game_set:"GameScoreManagement_game_set__199rN"}},21:function(e,t,a){e.exports={header:"MainNavigation_header__1FZRl",logo:"MainNavigation_logo__9lYMe",active:"MainNavigation_active__4b6oo",badge:"MainNavigation_badge__1MRUk"}},25:function(e,t,a){e.exports={player_list_container:"PlayerList_player_list_container__3keii"}},26:function(e,t,a){e.exports={multi_select:"PlayerMultiSelect_multi_select__3Echq"}},29:function(e,t,a){e.exports={main:"MainPage_main__txyh8"}},36:function(e,t,a){},37:function(e,t,a){},45:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a(24),c=a.n(r),s=(a(36),a(10)),l=a(3),i=(a(37),a(9)),o=a(31),d=a(2),j=a(12),u=a.n(j),b=a(22),m=a(1),_=function(e){var t=e.player,a=e.victoriesHandler,r=e.lossesHandler,c=Object(n.useState)(!1),s=Object(d.a)(c,2),l=s[0],i=s[1];return Object(m.jsxs)("div",{className:u.a.player_card,children:[Object(m.jsx)("div",{className:u.a.player_card_img,children:Object(m.jsx)("img",{src:t.img,alt:"player img"})}),Object(m.jsxs)("div",{className:u.a.container,children:[Object(m.jsx)("h2",{className:u.a.player_name,children:Object(m.jsx)("b",{children:t.name})}),Object(m.jsxs)("div",{className:"".concat(u.a.player_button," ").concat(l&&u.a.player_button_disable),children:[Object(m.jsx)("button",{disabled:l,onClick:function(){i(!0),a([t.id])[0].then((function(){return i(!1)}))},children:Object(m.jsx)(b.a,{})}),Object(m.jsx)("button",{disabled:l,onClick:function(){i(!0),r([t.id])[0].then((function(){return i(!1)}))},children:Object(m.jsx)(b.b,{})})]}),Object(m.jsxs)("p",{children:["Victories : ",t.victories]}),Object(m.jsxs)("p",{children:["Losses : ",t.losses]}),Object(m.jsxs)("p",{children:["Total games : ",t.victories+t.losses]})]})]})},h=a(25),f=a.n(h),p=function(e){var t=e.playerList,a=e.victoriesHandler,n=e.lossesHandler;return Object(m.jsx)("div",{className:f.a.player_list_container,children:t.map((function(e){return Object(m.jsx)(_,{player:e,victoriesHandler:a,lossesHandler:n},e.id)}))})},O=a(30),v=a(26),x=a.n(v),y=function(e){return Object(m.jsxs)("div",{className:x.a.multi_select,children:[Object(m.jsx)("h3",{children:e.headerText}),Object(m.jsx)(O.a,{options:e.playerList.map((function(e){return{label:e.name,value:e.id}})),value:e.selected,onChange:e.setSelected,labelledBy:"Select"})]})},g=a(19),N=a.n(g),S=function(e){var t=Object(n.useState)([]),a=Object(d.a)(t,2),r=a[0],c=a[1],s=Object(n.useState)([]),l=Object(d.a)(s,2),i=l[0],o=l[1],j=Object(n.useState)(!1),u=Object(d.a)(j,2);u[0],u[1];return Object(m.jsxs)("div",{className:N.a.game_score_container,children:[Object(m.jsx)(y,{playerList:e.playerList,selected:r,setSelected:c,headerText:"Winners"}),Object(m.jsx)("div",{className:N.a.game_set,children:Object(m.jsx)("button",{onClick:function(){var t=r.map((function(e){return e.value}));0!==t.length&&e.victoriesHandler(t);var a=i.map((function(e){return e.value}));0!==a.length&&e.lossesHandler(a)},children:" Set Score "})}),Object(m.jsx)(y,{playerList:e.playerList,selected:i,setSelected:o,headerText:"Losers"})]})},P=function(){var e=Object(n.useState)([]),t=Object(d.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)([]),s=Object(d.a)(c,2),l=s[0],j=s[1],u=Object(n.useState)(!1),b=Object(d.a)(u,2),_=b[0],h=b[1],f=Object(n.useState)(""),O=Object(d.a)(f,2),v=O[0],x=O[1];Object(n.useEffect)((function(){console.log("board useEffect"),fetch("https://table-football-c48e9-default-rtdb.firebaseio.com/player.json").then((function(e){return e.json()})).then((function(e){var t=[];for(var a in e){var n=Object(o.a)({id:a},e[a]);t.push(n)}r(t),j(t),h(!0)})).catch((function(e){console.error("Error:",e)}))}),[]);var y=function(e){for(var t=Object(i.a)(a),n=[],c=0;c<t.length;c++)for(var s=0;s<e.length;s++)t[c].id===e[s]&&(t[c].victories++,n.push(t[c]));return n.map((function(e){return fetch("https://table-football-c48e9-default-rtdb.firebaseio.com/player/".concat(e.id,".json"),{headers:{Accept:"application/json","Content-Type":"application/json"},method:"PUT",body:JSON.stringify({img:null===e||void 0===e?void 0:e.img,losses:null===e||void 0===e?void 0:e.losses,name:null===e||void 0===e?void 0:e.name,victories:null===e||void 0===e?void 0:e.victories})}).then((function(e){return e.json()})).then((function(e){r(t),console.log("Success:",e)})).catch((function(e){console.error("Error:",e)}))}))},g=function(e){for(var t=Object(i.a)(a),n=[],c=0;c<t.length;c++)for(var s=0;s<e.length;s++)t[c].id===e[s]&&(t[c].losses++,n.push(t[c]));return n.map((function(e){return fetch("https://table-football-c48e9-default-rtdb.firebaseio.com/player/".concat(e.id,".json"),{headers:{Accept:"application/json","Content-Type":"application/json"},method:"PUT",body:JSON.stringify({img:null===e||void 0===e?void 0:e.img,losses:null===e||void 0===e?void 0:e.losses,name:null===e||void 0===e?void 0:e.name,victories:null===e||void 0===e?void 0:e.victories})}).then((function(e){return e.json()})).then((function(e){r(t),console.log("Success:",e)})).catch((function(e){console.error("Error:",e)}))}))};return _?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("h1",{children:"Players Board"}),Object(m.jsx)("input",{name:"search",type:"search",onChange:function(e){var t=e.target.value,n=a.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())}));j(n),x(t)},value:v,placeholder:"player search"}),""===v&&Object(m.jsx)(S,{playerList:a,victoriesHandler:y,lossesHandler:g}),Object(m.jsx)(p,{playerList:l,victoriesHandler:y,lossesHandler:g})]}):Object(m.jsx)("h1",{children:"Loading... "})},w=a(6),H=a.n(w),L=function(){var e=Object(l.f)(),t=Object(n.useRef)(null),a=Object(n.useRef)(null);return Object(m.jsxs)("form",{className:H.a.form,onSubmit:function(n){var r,c;n.preventDefault();var s={name:null===(r=t.current)||void 0===r?void 0:r.value,victories:0,losses:0,img:null===(c=a.current)||void 0===c?void 0:c.value};fetch("https://table-football-c48e9-default-rtdb.firebaseio.com/player.json",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(s)}).then((function(e){return e.json()})).then((function(t){e.replace("/")})).catch((function(e){console.error("Error:",e)}))},children:[Object(m.jsxs)("div",{className:"".concat(H.a.form__group," ").concat(H.a.field),children:[Object(m.jsx)("input",{ref:t,className:H.a.form__field,required:!0,id:"user-name",type:"text",placeholder:"name"}),Object(m.jsx)("label",{className:H.a.form__label,htmlFor:"user-name",children:"Name : "})]}),Object(m.jsxs)("div",{className:"".concat(H.a.form__group," ").concat(H.a.field),children:[Object(m.jsx)("input",{ref:a,className:H.a.form__field,required:!0,id:"user-name",type:"text",placeholder:"Image"}),Object(m.jsx)("label",{className:H.a.form__label,htmlFor:"user-name",children:"Image : "})]}),Object(m.jsxs)("div",{className:"".concat(H.a.form__group," ").concat(H.a.field),children:[Object(m.jsx)("label",{htmlFor:"files",className:"btn",children:"Select Image"}),Object(m.jsx)("input",{className:H.a.form__field,id:"files",type:"file",onChange:function(e){console.log(e.target.files);var t=e.target.files,a=new FileReader;t&&(a.readAsDataURL(t[0]),a.onload=function(){var e=a.result;console.log(e)})}})]}),Object(m.jsx)("div",{className:H.a.submit,children:Object(m.jsx)("button",{children:" Submit "})})]})},F=function(){return Object(m.jsxs)("main",{children:[Object(m.jsx)("h1",{children:"New Player"}),Object(m.jsx)(L,{})]})},C=function(){return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("h1",{children:"Game History Page"})})},M=a(21),T=a.n(M),E=function(){return Object(m.jsxs)("header",{className:T.a.header,children:[Object(m.jsx)("div",{className:T.a.logo,children:"Table Football"}),Object(m.jsxs)("ul",{children:[Object(m.jsx)("li",{children:Object(m.jsx)(s.b,{to:"/",children:" Board "})}),Object(m.jsx)("li",{children:Object(m.jsx)(s.b,{to:"/new-player",children:" New Player "})}),Object(m.jsx)("li",{children:Object(m.jsx)(s.b,{to:"/game-history",children:" Game History "})})]})]})},k=a(29),R=a.n(k),B=function(e){return Object(m.jsxs)("main",{className:R.a.main,children:[" ",e.children," "]})};var G=function(){return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)(s.a,{children:[Object(m.jsx)(E,{}),Object(m.jsx)(B,{children:Object(m.jsxs)(l.c,{children:[Object(m.jsx)(l.a,{path:"/",exact:!0,children:Object(m.jsx)(P,{})}),Object(m.jsx)(l.a,{path:"/new-player",children:Object(m.jsx)(F,{})}),Object(m.jsx)(l.a,{path:"/game-history",children:Object(m.jsx)(C,{})})]})})]})})};c.a.render(Object(m.jsx)(G,{}),document.getElementById("root"))},6:function(e,t,a){e.exports={form:"NewPlayerForm_form__3G1Hg",form__group:"NewPlayerForm_form__group__rhKQo",form__field:"NewPlayerForm_form__field__3ZILN",form__label:"NewPlayerForm_form__label__a4wDz",submit:"NewPlayerForm_submit__3Wtdj"}}},[[45,1,2]]]);
//# sourceMappingURL=main.69c6c8e1.chunk.js.map