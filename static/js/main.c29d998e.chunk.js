(this["webpackJsonptable-football"]=this["webpackJsonptable-football"]||[]).push([[0],{11:function(e,t,a){e.exports={player_card:"Player_player_card__SlMrm",container:"Player_container__30pzO",player_card_img:"Player_player_card_img__1W3ZD",player_name:"Player_player_name__3xYHh",player_button:"Player_player_button__1KNuw",player_button_disable:"Player_player_button_disable__2K5vB"}},17:function(e,t,a){e.exports={game_score_container:"GameScoreManagement_game_score_container__27OKU",game_set:"GameScoreManagement_game_set__199rN",game_set_disable:"GameScoreManagement_game_set_disable__Sp5Vd"}},21:function(e,t,a){e.exports={header:"MainNavigation_header__1FZRl",logo:"MainNavigation_logo__9lYMe",active:"MainNavigation_active__4b6oo",badge:"MainNavigation_badge__1MRUk"}},25:function(e,t,a){e.exports={player_list_container:"PlayerList_player_list_container__3keii"}},26:function(e,t,a){e.exports={multi_select:"PlayerMultiSelect_multi_select__3Echq"}},29:function(e,t,a){e.exports={main:"MainPage_main__txyh8"}},35:function(e,t,a){},36:function(e,t,a){},44:function(e,t,a){"use strict";a.r(t);var n,r,c=a(0),s=a(24),i=a.n(s),l=(a(35),a(9)),o=a(3),j=(a(36),a(12)),d=a(2),u=a(11),b=a.n(u),_=a(22),m=a(1),f=function(e){var t=e.player,a=e.setScore,n=Object(c.useState)(!1),r=Object(d.a)(n,2),s=r[0],i=r[1];return Object(m.jsxs)("div",{className:b.a.player_card,children:[Object(m.jsx)("div",{className:b.a.player_card_img,children:Object(m.jsx)("img",{src:t.img,alt:"player img"})}),Object(m.jsxs)("div",{className:b.a.container,children:[Object(m.jsx)("h2",{className:b.a.player_name,children:Object(m.jsx)("b",{children:t.name})}),Object(m.jsxs)("div",{className:"".concat(b.a.player_button," ").concat(s&&b.a.player_button_disable),children:[Object(m.jsx)("button",{disabled:s,onClick:function(){i(!0),a([{id:t.id,loseOrWin:!0}]).finally((function(){return i(!1)}))},children:Object(m.jsx)(_.a,{})}),Object(m.jsx)("button",{disabled:s,onClick:function(){i(!0),a([{id:t.id,loseOrWin:!1}]).finally((function(){return i(!1)}))},children:Object(m.jsx)(_.b,{})})]}),Object(m.jsxs)("p",{children:["Victories : ",t.victories]}),Object(m.jsxs)("p",{children:["Losses : ",t.losses]}),Object(m.jsxs)("p",{children:["Total games : ",t.victories+t.losses]})]})]})},h=a(25),O=a.n(h),p=function(e){var t=e.playerList,a=e.setScore;return Object(m.jsx)("div",{className:O.a.player_list_container,children:t.map((function(e){return Object(m.jsx)(f,{player:e,setScore:a},e.id)}))})},x=a(30),y=a(26),v=a.n(y),g=function(e){return Object(m.jsxs)("div",{className:v.a.multi_select,children:[Object(m.jsx)("h3",{children:e.headerText}),Object(m.jsx)(x.a,{options:e.playerList.map((function(e){return{label:e.name,value:e.id}})),value:e.selected,onChange:e.setSelected,labelledBy:"Select"})]})},N=a(17),S=a.n(N),P=function(e){var t=Object(c.useState)([]),a=Object(d.a)(t,2),n=a[0],r=a[1],s=Object(c.useState)([]),i=Object(d.a)(s,2),l=i[0],o=i[1],j=Object(c.useState)(!1),u=Object(d.a)(j,2),b=u[0],_=u[1];return Object(m.jsxs)("div",{className:S.a.game_score_container,children:[Object(m.jsx)(g,{playerList:e.playerList,selected:n,setSelected:r,headerText:"Winners"}),Object(m.jsx)("div",{className:"".concat(S.a.game_set," ").concat(b&&S.a.game_set_disable),children:Object(m.jsx)("button",{disabled:b,onClick:function(){_(!0);var t=n.map((function(e){return{id:e.value,loseOrWin:!0}})),a=l.map((function(e){return{id:e.value,loseOrWin:!1}})),r=t.concat(a);e.setScore(r).finally((function(){return _(!1)}))},children:" Set Score "})}),Object(m.jsx)(g,{playerList:e.playerList,selected:l,setSelected:o,headerText:"Losers"})]})};(r=n||(n={})).getAllPlayers=function(){return fetch("".concat("https://table-football-c48e9-default-rtdb.firebaseio.com","/players.json"))},r.getPlayerById=function(e){return fetch("https://table-football-c48e9-default-rtdb.firebaseio.com/players/".concat(e,".json"))},r.updatePlayer=function(e){return fetch("https://table-football-c48e9-default-rtdb.firebaseio.com/players/".concat(e.id,".json"),{headers:{Accept:"application/json","Content-Type":"application/json"},method:"PUT",body:JSON.stringify({img:null===e||void 0===e?void 0:e.img,losses:null===e||void 0===e?void 0:e.losses,name:null===e||void 0===e?void 0:e.name,victories:null===e||void 0===e?void 0:e.victories})})};var w=function(){var e=Object(c.useState)([]),t=Object(d.a)(e,2),a=t[0],r=t[1],s=Object(c.useState)([]),i=Object(d.a)(s,2),l=i[0],o=i[1],u=Object(c.useState)(!1),b=Object(d.a)(u,2),_=b[0],f=b[1],h=Object(c.useState)(""),O=Object(d.a)(h,2),x=O[0],y=O[1];Object(c.useEffect)((function(){n.getAllPlayers().then((function(e){return e.json()})).then((function(e){var t=[];for(var a in e){var n=Object(j.a)({id:a},e[a]);t.push(n)}r(t),o(t),f(!0)})).catch((function(e){console.error("Error:",e)}))}),[]);var v=function(e){var t=JSON.parse(JSON.stringify(a)),c=[],s=e.map((function(e){return n.getPlayerById(e.id)}));return Promise.all(s).then((function(e){return Promise.all(e.map((function(e){return e.json()})))})).then((function(t){e.forEach((function(e,a){e.loseOrWin?c.push(Object(j.a)(Object(j.a)({},t[a]),{},{id:e.id,victories:t[a].victories+1})):c.push(Object(j.a)(Object(j.a)({},t[a]),{},{id:e.id,losses:t[a].losses+1}))}))})).then((function(){var e=c.map((function(e){return n.updatePlayer(e)}));return Promise.all(e).then((function(){t.forEach((function(e,a){c.forEach((function(n){n.id===e.id&&(t[a]=Object(j.a)({},n))}))})),r(t),o(t)}))}))};return _?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("h1",{children:"Players Board"}),Object(m.jsx)("input",{name:"search",type:"search",onChange:function(e){var t=e.target.value,n=a.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())}));o(n),y(t)},value:x,placeholder:"player search"}),""===x&&Object(m.jsx)(P,{playerList:a,setScore:v}),Object(m.jsx)(p,{playerList:l,setScore:v})]}):Object(m.jsx)("h1",{children:"Loading... "})},L=a(6),F=a.n(L),M=function(){var e=Object(o.f)(),t=Object(c.useRef)(null),a=Object(c.useRef)(null);return Object(m.jsxs)("form",{className:F.a.form,onSubmit:function(n){var r,c;n.preventDefault();var s={name:null===(r=t.current)||void 0===r?void 0:r.value,victories:0,losses:0,img:null===(c=a.current)||void 0===c?void 0:c.value};fetch("https://table-football-c48e9-default-rtdb.firebaseio.com/players.json",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(s)}).then((function(e){return e.json()})).then((function(t){e.replace("/")})).catch((function(e){console.error("Error:",e)}))},children:[Object(m.jsxs)("div",{className:"".concat(F.a.form__group," ").concat(F.a.field),children:[Object(m.jsx)("input",{ref:t,className:F.a.form__field,required:!0,id:"user-name",type:"text",placeholder:"name"}),Object(m.jsx)("label",{className:F.a.form__label,htmlFor:"user-name",children:"Name : "})]}),Object(m.jsxs)("div",{className:"".concat(F.a.form__group," ").concat(F.a.field),children:[Object(m.jsx)("input",{ref:a,className:F.a.form__field,required:!0,id:"user-name",type:"text",placeholder:"Image"}),Object(m.jsx)("label",{className:F.a.form__label,htmlFor:"user-name",children:"Image : "})]}),Object(m.jsxs)("div",{className:"".concat(F.a.form__group," ").concat(F.a.field),children:[Object(m.jsx)("label",{htmlFor:"files",className:"btn",children:"Select Image"}),Object(m.jsx)("input",{className:F.a.form__field,id:"files",type:"file",onChange:function(e){console.log(e.target.files);var t=e.target.files,a=new FileReader;t&&(a.readAsDataURL(t[0]),a.onload=function(){var e=a.result;console.log(e)})}})]}),Object(m.jsx)("div",{className:F.a.submit,children:Object(m.jsx)("button",{children:" Submit "})})]})},C=function(){return Object(m.jsxs)("main",{children:[Object(m.jsx)("h1",{children:"New Player"}),Object(m.jsx)(M,{})]})},T=function(){return Object(m.jsx)("div",{})},E=function(){return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("h1",{children:"Game History Page"}),Object(m.jsx)(T,{})]})},W=a(21),k=a.n(W),B=function(){return Object(m.jsxs)("header",{className:k.a.header,children:[Object(m.jsx)("div",{className:k.a.logo,children:"Table Football"}),Object(m.jsxs)("ul",{children:[Object(m.jsx)("li",{children:Object(m.jsx)(l.b,{to:"/",children:" Board "})}),Object(m.jsx)("li",{children:Object(m.jsx)(l.b,{to:"/new-player",children:" New Player "})}),Object(m.jsx)("li",{children:Object(m.jsx)(l.b,{to:"/game-history",children:" Game History "})})]})]})},I=a(29),G=a.n(I),J=function(e){return Object(m.jsxs)("main",{className:G.a.main,children:[" ",e.children," "]})};var R=function(){return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)(l.a,{children:[Object(m.jsx)(B,{}),Object(m.jsx)(J,{children:Object(m.jsxs)(o.c,{children:[Object(m.jsx)(o.a,{path:"/",exact:!0,children:Object(m.jsx)(w,{})}),Object(m.jsx)(o.a,{path:"/new-player",children:Object(m.jsx)(C,{})}),Object(m.jsx)(o.a,{path:"/game-history",children:Object(m.jsx)(E,{})})]})})]})})};i.a.render(Object(m.jsx)(R,{}),document.getElementById("root"))},6:function(e,t,a){e.exports={form:"NewPlayerForm_form__3G1Hg",form__group:"NewPlayerForm_form__group__rhKQo",form__field:"NewPlayerForm_form__field__3ZILN",form__label:"NewPlayerForm_form__label__a4wDz",submit:"NewPlayerForm_submit__3Wtdj"}}},[[44,1,2]]]);
//# sourceMappingURL=main.c29d998e.chunk.js.map